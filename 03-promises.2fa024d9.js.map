{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAAAC,QAAQC,IAAI,kBAGZ,IAAMC,EAAYC,SAASC,cAAc,UAEnCC,EAAaF,SAASC,cAAc,kBAEpCE,EAAYH,SAASC,cAAc,iBAEnCG,EAASJ,SAASC,cAAc,mBAkBtC,SAASI,EAAeC,EAAUC,IAflC,SAAuBD,EAAUC,GAG/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,S,GAEpBA,E,KAKLO,CAAcR,EAAUC,GACrBQ,MAAK,SAAAC,G,IAAGC,EAAQD,EAARV,SAAUY,EAAKF,EAALT,MACjBY,EAAAxB,GAASyB,OAAOC,QAAQ,uBAAwCC,OAAfL,EAAS,QAAYK,OAANJ,EAAM,M,IAEvEK,OAAM,SAAAP,G,IAAGC,EAAQD,EAARV,SAAUY,EAAKF,EAALT,MAClBY,EAAAxB,GAASyB,OAAOI,QAAQ,sBAAqCF,OAAfL,EAAS,QAAYK,OAANJ,EAAM,M,IAEpEO,SAAQ,WACP,GAAInB,KAAcF,EAAOsB,MAGvB,OAFA7B,QAAQC,IAAI,mCACZC,EAAU4B,gBAAgB,YAI5BtB,EAAeC,EAAW,EAAGC,IAASJ,EAAUuB,M,IAKtD1B,SAASC,cAAc,SAAS2B,iBAAiB,UAAU,SAACC,GACxDA,EAAEC,iBAEF/B,EAAUgC,aAAa,WAAY,YAGnC1B,EAAe,GAAIH,EAAWwB,M","sources":["src/js/03-promises.js"],"sourcesContent":["console.log('script goemona');\nimport Notiflix from 'notiflix';\n\nconst submitBtn = document.querySelector('button');\n//console.log(submitBtn);\nconst firstDelay = document.querySelector('[name=\"delay\"]');\n//console.log(firstDelay);\nconst delayStep = document.querySelector('[name=\"step\"]');\n//console.log(delayStep);\nconst amount = document.querySelector('[name=\"amount\"]');\n//console.log(amount);\n\nfunction createPromise(position, delay) {\n  // Return a promise that resolves or rejects after the specified delay\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }     \n    }, delay);\n  });\n}\n\nfunction processPromise(position, delay) {\n  createPromise(position, delay)\n    .then(({ position, delay }) => {           \n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    })\n    .finally(() => {\n      if (position === +amount.value) {\n        console.log('All repetitions completed.');\n        submitBtn.removeAttribute('disabled');\n        return;\n      }\n      //Call processPromise func with updated position&delay\n      processPromise(position + 1, delay + +delayStep.value);\n    })\n}\n\n// Add a submit event listener to the form\ndocument.querySelector('.form').addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    \n    submitBtn.setAttribute('disabled', 'disabled');\n\n    //Start process with initial position&delay\n    processPromise(1, +firstDelay.value);\n  });\n\n\n\n\n\n\n"],"names":["$6JpON","parcelRequire","console","log","$ce04d3a99e08e73b$var$submitBtn","document","querySelector","$ce04d3a99e08e73b$var$firstDelay","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$processPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","$ce04d3a99e08e73b$var$createPromise","then","param","_$position","_$delay","$parcel$interopDefault","Notify","success","concat","catch","failure","finally","value","removeAttribute","addEventListener","e","preventDefault","setAttribute"],"version":3,"file":"03-promises.2fa024d9.js.map"}